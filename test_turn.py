"""
test_turn.py - –¢–µ—Å—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–≤–æ—Ä–æ—Ç–∞ –º—ã—à–∏

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –≤ –∫–∞–∫—É—é —Å—Ç–æ—Ä–æ–Ω—É –∫—Ä—É—Ç–∏—Ç –º—ã—à—å –ø—Ä–∏ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö/–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö
"""

import time
from pico_controller import PicoController

PICO_PORT = "COM4"

pico = PicoController(PICO_PORT)

print("="*50)
print("üß™ –¢–ï–°–¢ –ù–ê–ü–†–ê–í–õ–ï–ù–ò–Ø –ú–´–®–ò")
print("="*50)

# –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è
print("\nüîå –ü–æ–¥–∫–ª—é—á–∞—é—Å—å –∫ Pico...")
if not pico.connect():
    print("‚ùå Pico –Ω–µ –Ω–∞–π–¥–µ–Ω!")
    exit()
print("‚úÖ Pico –≥–æ—Ç–æ–≤")

print("\n" + "="*50)
print("‚ö†Ô∏è  –í–ù–ò–ú–ê–ù–ò–ï!")
print("   –û—Ç–∫—Ä–æ–π Minecraft")
print("   –í—Å—Ç–∞–Ω—å –∏ —Å–º–æ—Ç—Ä–∏ –ø—Ä—è–º–æ")
print("   –ó–∞–ø–æ–º–Ω–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∑–≥–ª—è–¥–∞")
print("="*50)

input("\n‚ñ∂Ô∏è  Enter –∫–æ–≥–¥–∞ –≥–æ—Ç–æ–≤...\n")

print("üß™ –¢–ï–°–¢ 1: mouse_move(+100, 0)")
print("   –î–æ–ª–∂–µ–Ω –ø–æ–≤–µ—Ä–Ω—É—Ç—å—Å—è –ù–ê–ü–†–ê–í–û ‚Üí")
input("   Enter –¥–ª—è —Ç–µ—Å—Ç–∞...")

print("\n‚è≥ –ü–µ—Ä–µ–∫–ª—é—á–∞–π—Å—è –Ω–∞ Minecraft!")
for i in range(3, 0, -1):
    print(f"   {i}...")
    time.sleep(1)

pico.mouse_move(100, 0)
time.sleep(1)

print("\n‚úÖ –ü–æ–≤–µ—Ä–Ω—É–ª—Å—è –ù–ê–ü–†–ê–í–û? (–¥–∞/–Ω–µ—Ç)")
test1 = input("   –û—Ç–≤–µ—Ç: ").strip().lower()

time.sleep(2)

print("\nüß™ –¢–ï–°–¢ 2: mouse_move(-100, 0)")
print("   –î–æ–ª–∂–µ–Ω –ø–æ–≤–µ—Ä–Ω—É—Ç—å—Å—è –ù–ê–õ–ï–í–û ‚Üê")
input("   Enter –¥–ª—è —Ç–µ—Å—Ç–∞...")

print("\n‚è≥ –ü–µ—Ä–µ–∫–ª—é—á–∞–π—Å—è –Ω–∞ Minecraft!")
for i in range(3, 0, -1):
    print(f"   {i}...")
    time.sleep(1)

pico.mouse_move(-100, 0)
time.sleep(1)

print("\n‚úÖ –ü–æ–≤–µ—Ä–Ω—É–ª—Å—è –ù–ê–õ–ï–í–û? (–¥–∞/–Ω–µ—Ç)")
test2 = input("   –û—Ç–≤–µ—Ç: ").strip().lower()

pico.close()

print("\n" + "="*50)
print("üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´:")
print("="*50)

if test1 == "–¥–∞" and test2 == "–¥–∞":
    print("‚úÖ –í–°–Å –ü–†–ê–í–ò–õ–¨–ù–û!")
    print("   mouse_move(+X) = –Ω–∞–ø—Ä–∞–≤–æ")
    print("   mouse_move(-X) = –Ω–∞–ª–µ–≤–æ")
    print("\n   –ü—Ä–æ–±–ª–µ–º–∞ –ù–ï –≤ Pico!")
    print("   –ü—Ä–æ–±–ª–µ–º–∞ –≤ –ª–æ–≥–∏–∫–µ turn_to()")
elif test1 == "–Ω–µ—Ç" or test2 == "–Ω–µ—Ç":
    print("‚ö†Ô∏è  –ù–ê–ü–†–ê–í–õ–ï–ù–ò–ï –ò–ù–í–ï–†–¢–ò–†–û–í–ê–ù–û!")
    print("   –í code.py –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:")
    print("   mouse.move(x, y) ‚Üí mouse.move(-x, y)")
else:
    print("‚ùì –ù–µ–ø–æ–Ω—è—Ç–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç")

print("="*50)